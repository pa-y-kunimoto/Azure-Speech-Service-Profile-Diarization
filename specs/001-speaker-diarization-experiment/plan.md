# Implementation Plan: è©±è€…åˆ†é›¢ãƒ»è©±è€…èªè­˜å®Ÿé¨“ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

**Branch**: `001-speaker-diarization-experiment`  
**Date**: 2025-12-01  
**Updated**: 2025-12-03  
**Status**: âœ… Implementation Complete  
**Spec**: [spec.md](./spec.md)

## Summary

Azure Speech Service ã® ConversationTranscriber API ã‚’ä½¿ç”¨ã—ã¦ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è©±è€…åˆ†é›¢ãƒ»èªè­˜ã‚’å®Ÿç¾ã™ã‚‹å®Ÿé¨“ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚Nuxt 4 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ ExpressJS ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§æ§‹æˆã•ã‚Œã€WebSocket çµŒç”±ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°èªè­˜ã‚’è¡Œã†ã€‚

**é‡è¦ãªç™ºè¦‹**: Azure ConversationTranscriber ã¯è©±è€…åˆ†é›¢ï¼ˆDiarizationï¼‰ã®ã¿ã‚’è¡Œã„ã€äº‹å‰ç™»éŒ²ã—ãŸéŸ³å£°ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¨ã®ç…§åˆï¼ˆSpeaker Identificationï¼‰ã¯è¡Œã‚ãªã„ã€‚ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®è‡ªå‹•ãƒãƒƒãƒ”ãƒ³ã‚°ã¨æ‰‹å‹•ãƒãƒƒãƒ”ãƒ³ã‚°ã§å¯¾å¿œã€‚

## Technical Context

**Language/Version**: TypeScript 5.x, Node.js 22 LTS (VOLTAç®¡ç†)  
**Primary Dependencies**: Nuxt 4, ExpressJS 4.x, microsoft-cognitiveservices-speech-sdk, TailwindCSS 3.x  
**Storage**: sessionStorage (ãƒ–ãƒ©ã‚¦ã‚¶)  
**Testing**: Vitest, Playwright  
**Target Platform**: Web (Chrome/Edge/Safari/Firefox)  
**Project Type**: Monorepo (npm workspaces)  
**Performance Goals**: ç™ºè©±çµ‚äº†ã‹ã‚‰è¡¨ç¤ºã¾ã§3ç§’ä»¥å†…  
**Constraints**: sessionStorage 5-10MBåˆ¶é™, éŸ³å£°ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«5-10ä»¶ã¾ã§  
**Scale/Scope**: å®Ÿé¨“ç”¨é€”ã€3äººä»¥ä¸Šã®åŒæ™‚è©±è€…è­˜åˆ¥

## Constitution Check

*GATE: ã™ã¹ã¦ãƒã‚§ãƒƒã‚¯æ¸ˆã¿*

- [x] Test-First Development (TDD) - Vitest ã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå…ˆè¡Œ
- [x] Technology Stack Compliance - Node.js 22 LTS, Nuxt 4, ExpressJS, TailwindCSS
- [x] Coding Standards - Biome.js ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- [x] Secret Management - ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†, .env.example æä¾›
- [x] Monorepo & Library-First - npm workspaces, packages/ é…ä¸‹ã«å…±é€šã‚³ãƒ¼ãƒ‰

## Project Structure

### Documentation (this feature)

```text
specs/001-speaker-diarization-experiment/
â”œâ”€â”€ plan.md              # This file (å®Ÿè£…è¨ˆç”»)
â”œâ”€â”€ research.md          # æŠ€è¡“èª¿æŸ»çµæœ (Azure åˆ¶é™äº‹é …å«ã‚€)
â”œâ”€â”€ data-model.md        # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å®šç¾©
â”œâ”€â”€ quickstart.md        # ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ spec.md              # æ©Ÿèƒ½ä»•æ§˜
â”œâ”€â”€ tasks.md             # å®Ÿè£…ã‚¿ã‚¹ã‚¯ (79ã‚¿ã‚¹ã‚¯å®Œäº†)
â”œâ”€â”€ checklists/
â”‚   â””â”€â”€ requirements.md  # è¦ä»¶ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
â””â”€â”€ contracts/
    â”œâ”€â”€ api.yaml         # REST API å®šç¾© (OpenAPI)
    â””â”€â”€ websocket.md     # WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å®šç¾©
```

### Source Code (repository root)

```text
/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                    # Nuxt 4 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (port 3002)
â”‚   â”‚   â”œâ”€â”€ components/         # Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfileList.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ SessionControl.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ TranscriptView.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ VoiceProfileUploader.vue
â”‚   â”‚   â”‚   â””â”€â”€ VoiceRecorder.vue
â”‚   â”‚   â”œâ”€â”€ composables/        # Vue Composables
â”‚   â”‚   â”‚   â”œâ”€â”€ useAudioRecorder.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useDiarizationSession.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useRealtimeRecognition.ts
â”‚   â”‚   â”‚   â””â”€â”€ useVoiceProfile.ts
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.vue       # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ session.vue     # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç”»é¢
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ audioConverter.ts
â”‚   â”‚       â””â”€â”€ wavEncoder.ts
â”‚   â”‚
â”‚   â””â”€â”€ api/                    # ExpressJS ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (port 3001)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ index.ts        # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚       â”‚   â”œâ”€â”€ middleware/
â”‚       â”‚   â”‚   â””â”€â”€ errorHandler.ts
â”‚       â”‚   â”œâ”€â”€ routes/
â”‚       â”‚   â”‚   â”œâ”€â”€ health.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ session.ts
â”‚       â”‚   â”‚   â””â”€â”€ speech.ts
â”‚       â”‚   â”œâ”€â”€ services/
â”‚       â”‚   â”‚   â”œâ”€â”€ mockSpeechService.ts   # Azure ãƒ¢ãƒƒã‚¯
â”‚       â”‚   â”‚   â”œâ”€â”€ realtimeService.ts     # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚µãƒ¼ãƒ“ã‚¹
â”‚       â”‚   â”‚   â””â”€â”€ speechService.ts       # Azure SDK ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚       â”‚   â””â”€â”€ ws/
â”‚       â”‚       â”œâ”€â”€ handler.ts   # WebSocket ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚       â”‚       â””â”€â”€ index.ts
â”‚       â””â”€â”€ tests/
â”‚           â”œâ”€â”€ contract/
â”‚           â”œâ”€â”€ integration/
â”‚           â””â”€â”€ unit/
â”‚
â””â”€â”€ packages/
    â”œâ”€â”€ core/                   # å…±é€šå‹å®šç¾©
    â”‚   â””â”€â”€ src/
    â”‚       â”œâ”€â”€ types/
    â”‚       â”‚   â”œâ”€â”€ diarizationSession.ts
    â”‚       â”‚   â”œâ”€â”€ speakerMapping.ts
    â”‚       â”‚   â”œâ”€â”€ utterance.ts
    â”‚       â”‚   â””â”€â”€ voiceProfile.ts
    â”‚       â””â”€â”€ utils/
    â”‚           â””â”€â”€ validation.ts
    â”‚
    â”œâ”€â”€ speech-client/          # Azure Speech SDK ãƒ©ãƒƒãƒ‘ãƒ¼
    â”‚   â””â”€â”€ src/
    â”‚       â”œâ”€â”€ audioProcessor.ts
    â”‚       â”œâ”€â”€ diarizationClient.ts
    â”‚       â””â”€â”€ index.ts
    â”‚
    â”œâ”€â”€ api/                    # API å‹å®šç¾©
    â””â”€â”€ cli/                    # CLI ãƒ„ãƒ¼ãƒ«ï¼ˆæœªä½¿ç”¨ï¼‰
```

## Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ãƒ–ãƒ©ã‚¦ã‚¶ (Nuxt 4)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ProfileList  â”‚  â”‚ SessionControl  â”‚  â”‚ TranscriptView    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                  â”‚                     â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                   Composables                          â”‚          â”‚
â”‚  â”‚  useVoiceProfile  useDiarizationSession  useRealtime  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                               â”‚                                      â”‚
â”‚                        WebSocket                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ExpressJS API (port 3001)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  WebSocket     â”‚  â”‚  RealtimeService â”‚  â”‚  SpeechService    â”‚     â”‚
â”‚  â”‚  Handler       â”‚â”€â”€â”‚  (Enrollment +   â”‚â”€â”€â”‚  (Azure SDK)      â”‚     â”‚
â”‚  â”‚                â”‚  â”‚   Transcription) â”‚  â”‚                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                â”‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                    â”‚  DiarizationClient    â”‚                         â”‚
â”‚                    â”‚  (or MockClient)      â”‚                         â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                v
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Azure Speech Service â”‚
                    â”‚  ConversationTranscr. â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Implementation Decisions

### 1. ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°

Azure ConversationTranscriber ãŒäº‹å‰ç™»éŒ²ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¨ã®ç…§åˆã‚’è¡Œã‚ãªã„ãŸã‚ã€ä»¥ä¸‹ã®æ–¹å¼ã‚’æ¡ç”¨:

1. ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã«å„ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®éŸ³å£°ã‚’é †ç•ªã« Azure ã«é€ä¿¡
2. éŸ³å£°é€ä¿¡ä¸­ã« Azure ãŒæ¤œå‡ºã—ãŸ speakerId ã‚’åé›†
3. æ¤œå‡ºã•ã‚ŒãŸ speakerId ã‚’ãã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«ãƒãƒƒãƒ”ãƒ³ã‚°

```typescript
// RealtimeService.startEnrollment()
for (const profile of this.pendingProfiles) {
  this.currentEnrollmentProfile = profile;
  this.currentEnrollmentSpeakers.clear();
  
  // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«éŸ³å£°ã‚’ãƒãƒ£ãƒ³ã‚¯ã§é€ä¿¡
  for (const chunk of audioChunks) {
    this.pushAudio(chunk);
  }
  
  // æ¤œå‡ºã•ã‚ŒãŸã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°
  for (const speakerId of this.currentEnrollmentSpeakers) {
    this.mapSpeaker(speakerId, profile.profileId, profile.profileName);
  }
}
```

### 2. æ‰‹å‹•ãƒãƒƒãƒ”ãƒ³ã‚° UI

ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆã§æ¤œå‡ºã§ããªã‹ã£ãŸè©±è€…ã¸ã®å¯¾å¿œ:
- æ¤œå‡ºã•ã‚ŒãŸã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼IDã‚’ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ãªãƒãƒƒã‚¸ã§è¡¨ç¤º
- ã‚¯ãƒªãƒƒã‚¯ã§ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º
- é¸æŠã—ãŸãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¨ speakerId ã‚’ç´ä»˜ã‘

### 3. MockDiarizationClient

é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ Azure æ¥ç¶šãªã—ã§å‹•ä½œ:
- éŸ³å£°ãƒãƒ£ãƒ³ã‚¯å—ä¿¡æ™‚ã«ãƒ¢ãƒƒã‚¯èªè­˜çµæœã‚’ç”Ÿæˆ
- ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆæ™‚ã¯è¤‡æ•°ã®ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼IDã‚’æ¤œå‡º
- å®šæœŸçš„ãª speakerId ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§è¤‡æ•°è©±è€…ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ

### 4. ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆç™ºè©±ã®è­˜åˆ¥

UI ã§ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆç™ºè©±ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç™ºè©±ã‚’åŒºåˆ¥:
- `isEnrollment: true` ãƒ•ãƒ©ã‚°
- ç´«è‰²èƒŒæ™¯ + ğŸ¤ãƒãƒƒã‚¸ã§è¡¨ç¤º
- `enrollmentProfileName` ã§ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«åã‚’è¡¨ç¤º

## Implementation Progress

### Phase 0: Research âœ…
- Azure Speech Service API èª¿æŸ»å®Œäº†
- ConversationTranscriber ã®åˆ¶é™äº‹é …ã‚’ç™ºè¦‹ãƒ»å¯¾å¿œç­–ã‚’æ±ºå®š

### Phase 1: Design & Contracts âœ…
- data-model.md å®Œæˆ
- contracts/api.yaml å®Œæˆ
- contracts/websocket.md å®Œæˆ

### Phase 2: Implementation âœ…
- å…¨79ã‚¿ã‚¹ã‚¯å®Œäº†
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…æ¸ˆã¿

### Post-Implementation Fixes âœ…
- API ãƒ™ãƒ¼ã‚¹ URL è¨­å®š
- ãƒãƒ¼ãƒˆè¨­å®š (web: 3002, api: 3001)
- WebSocket ãƒ‘ã‚¹å‡¦ç†
- é‡è¤‡ãƒˆãƒ©ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆå•é¡Œ
- ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚° UI
- ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆè‡ªå‹•ãƒãƒƒãƒ”ãƒ³ã‚°
- ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆç™ºè©±ã® UI åŒºåˆ¥

## Complexity Tracking

| è¿½åŠ ã—ãŸè¤‡é›‘ã• | ç†ç”± | å´ä¸‹ã•ã‚ŒãŸä»£æ›¿æ¡ˆ |
|---------------|------|-----------------|
| ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆå‡¦ç† | Azure ãŒå£°ç´‹ç…§åˆã‚’è¡Œã‚ãªã„ãŸã‚ | VoiceProfileClient çµ±åˆï¼ˆä¸å¯èƒ½ï¼‰ |
| æ‰‹å‹•ãƒãƒƒãƒ”ãƒ³ã‚° UI | ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆã§æ¤œå‡ºã§ããªã„è©±è€…ã¸ã®å¯¾å¿œ | ãªã—ï¼ˆå¿…é ˆæ©Ÿèƒ½ï¼‰ |
| MockDiarizationClient | é–‹ç™ºç’°å¢ƒã§ã® Azure æ¥ç¶šä¸è¦åŒ– | æ¯å› Azure æ¥ç¶šï¼ˆã‚³ã‚¹ãƒˆãƒ»é…å»¶ï¼‰ |

## Files Changed Summary

ä¸»è¦ãªå®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:
- `apps/api/src/services/realtimeService.ts` - ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆãƒ»ãƒãƒƒãƒ”ãƒ³ã‚°å‡¦ç†
- `apps/api/src/services/mockSpeechService.ts` - ãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- `apps/api/src/ws/handler.ts` - WebSocket ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
- `apps/web/pages/session.vue` - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç”»é¢
- `apps/web/composables/useRealtimeRecognition.ts` - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ èªè­˜
- `apps/web/components/TranscriptView.vue` - ç™ºè©±è¡¨ç¤º
- `packages/speech-client/src/diarizationClient.ts` - Azure SDK ãƒ©ãƒƒãƒ‘ãƒ¼

## Next Steps (Future Enhancements)

1. **Azure å®Ÿç’°å¢ƒãƒ†ã‚¹ãƒˆ** - å®Ÿéš›ã® Azure Speech Service ã§ã®å‹•ä½œç¢ºèª
2. **ã‚¨ãƒ³ãƒ­ãƒ¼ãƒ«ãƒ¡ãƒ³ãƒˆé€²æ—è¡¨ç¤º** - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚„ã‚¹ãƒ†ãƒƒãƒ—è¡¨ç¤º
3. **ã‚»ãƒƒã‚·ãƒ§ãƒ³å±¥æ­´ä¿å­˜** - IndexedDB ã‚„ Azure Blob Storage ã¸ã®æ°¸ç¶šåŒ–
4. **è©±è€…èªè­˜ç²¾åº¦å‘ä¸Š** - ã‚ˆã‚Šé•·ã„ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«éŸ³å£°ã§ã®å­¦ç¿’
5. **å¤šè¨€èªå¯¾å¿œ** - æ—¥æœ¬èªä»¥å¤–ã®è¨€èªã‚µãƒãƒ¼ãƒˆ
